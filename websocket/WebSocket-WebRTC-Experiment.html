<style>
    .center-table td { width: 40%; }

    a.join, a.create-room {
        background: url(https://webrtc-experiment.appspot.com/images/accept.gif) no-repeat left center;
        padding-left: 1.5em;
    }

    a.search-room {
        background: url(https://webrtc-experiment.appspot.com/images/search.gif) no-repeat left center;
        padding-left: 2em;
    }

    label {
        display: inline-block;
        font-size: 20px;
        width: 150px;
    }

    input { font-size: 1.2em; }

    .create-room-panel h2, .create-room-panel div, .public-rooms blockquote {
        border-bottom: 1px double #CACACA;
        margin-bottom: .5em;
        padding: .2em;
    }

    .create-room { display: block; }

    #public-rooms blockquote {
        background: #FCFCFC;
        border: 1px solid #FF4010;
        margin-top: 1em;
        padding: 1em 2em;
    }
</style>
<script src="https://pubnub.a.ssl.fastly.net/pubnub-3.1.min.js"></script>
<script src="https://webrtc-experiment.appspot.com/dependencies/websocket.js" type="text/javascript"></script>
<table>
    <tr>
        <td>
            <a class="logo" href="https://plus.google.com/100325991024054712503">
                <img src="https://webrtc-experiment.appspot.com/images/Muaz-Khan.gif" width="100" height="100">
            </a>
        </td>
        <td>
            <h1>(WebSocket/Pubnub/JavaScript) WebRTC Experiment</h1>
            <blockquote class="slogan">
                WebRTC Experiment that uses WebSocket over PubNub for signaling to make a realtime handshake!
            </blockquote>
        </td>
    </tr>
</table>
<table class="center-table">
    <tr>
        <td>
            <h2>Public meeting rooms!</h2>
            <section id="public-rooms"></section>
        </td>
        <td class="create-room-panel">
            <h2>Create new Room</h2>
            <div>
                <label for="full-name">Your name:</label>
                <input type="text" id="full-name"><br />
                <small>Enter your full name.</small>
            </div>
            <div>
                <label for="room-name">Room name:</label>
                <input type="text" id="room-name"><br />
                <small>Enter human-readable room name.</small>
            </div>
            <div id="partner-email" style="border: 0; height: 0; margin: 0; overflow: hidden; padding: 0; padding-left: 0!important;">
                <label for="partner-email">Partner email:</label>
                <input type="text" id="partner-email"><br />
                <small>Enter your partner's email or unique token/word.</small>
            </div>
            <div style="float: right;">
                <input type="checkbox" id="is-private" style="margin-left: 20px;" />
                <label for="is-private" style="width: auto;">
                    Is Private Room?</label>
            </div>
            <a id="create-room" class="create-room" href="#create-room">Create Room</a>
        </td>
    </tr>
    <tr>
        <td></td>
        <td>
            <section class="create-room-panel">
                <h2>Searching for a private room?</h2>
                <div>
                    <label for="email">Your email:</label>
                    <input type="text" id="email" style="width: 8.9em;">

                    <a id="search-room" class="search-room" href="#search-room">Search</a>

                    <small style="display: block;">Enter the email or token that your room partner given you.</small>
                </div>
            </section>
        </td>
    </tr>
</table>
<video id="client-video" muted style="position: absolute; top: 0; z-index: -1;"></video>
<video id="remote-video" style="display: none; position: absolute; top: 0;"></video>

<section class="plusone-gplus">
    <div class="g-plusone" data-href="https://webrtc-experiment.appspot.com/"></div>
</section>

<footer>
    <a href="https://webrtc-experiment.appspot.com/">Home</a>
    © <a href="https://plus.google.com/100325991024054712503" rel="author">Muaz Khan</a>, {year}
    » <a href="mailto:muazkh@gmail.com">Email</a>
    » <a href="http://twitter.com/muazkh">@muazkh</a>
    » <a href="https://github.com/muaz-khan">Github</a>
</footer>

<script src="https://webrtc-experiment.appspot.com/RTCPeerConnection.js"></script>
<script>var iceServers = { "iceServers": [{ "url": "turn:webrtc%40live.com@numb.viagenie.ca", "credential": "muazkh" }] };</script>
<script src="1-helper.js"> </script>
<script src="2-rtc-functions.js"></script>
<script src="3-rtc.js"> </script>
<script src="4-ui.js"> </script>
<script src="5-websocket.js" type="text/javascript"></script>
<script>
    var socket_config = {
        publish_key: 'demo',
        subscribe_key: 'demo'
    };

    initSocket(function () {
        showListsAndBoxes();
        captureCamera();
    });
</script>