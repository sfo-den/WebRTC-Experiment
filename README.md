#### Realtime working [WebRTC Experiments and Demos](https://webrtc-experiment.appspot.com/)

It is a repository of uniquely experimented WebRTC demos; written by [Muaz Khan](https://github.com/muaz-khan); contributed by you and the community!

No special requirement! Just Chrome (for desktop and android) or Firefox!

These demos/experiments are entirely client-side; i.e. no server installation needed! (for basic webpages only!)

----

### Libraries

1. [RTCMultiConnection.js](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RTCMultiConnection) — [Demos](https://webrtc-experiment.appspot.com/#RTCMultiConnection)
2. [DataChannel.js](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/DataChannel) — [Demos](https://webrtc-experiment.appspot.com/#DataChannel)
3. [RecordRTC.js](https://webrtc-experiment.appspot.com/RecordRTC/) — [Demo](https://webrtc-experiment.appspot.com/RecordRTC/)
4. [RTCall.js](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RTCall) — [Demo](https://webrtc-experiment.appspot.com/RTCall/)

----

#### WebRTC Signaling Gateways

Following signaling gateways can work with each and every [WebRTC Experiment](https://webrtc-experiment.appspot.com/)!

1. [Socket.io over Node.js](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/socketio-over-nodejs) — [Demo](http://webrtc-signaling.jit.su/)
2. [WebSocket over Node.js](https://github.com/muaz-khan/WebRTC-Experiment/blob/master/websocket-over-nodejs) — [Demo](http://websocket-over-nodejs.jit.su/)

----

1. [RecordRTC: WebRTC audio/video recording](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RecordRTC) / [Demo](https://webrtc-experiment.appspot.com/RecordRTC/)
2. [Pre-recorded media streaming](https://webrtc-experiment.appspot.com/Pre-recorded-Media-Streaming/)
3. [WebRTC one-way video broadcasting](https://webrtc-experiment.appspot.com/webrtc-broadcasting/)

----

#### [Screen sharing](https://webrtc-experiment.appspot.com/#screen-sharing)

1. [Plugin free screen sharing](https://webrtc-experiment.appspot.com/Pluginfree-Screen-Sharing/)
2. [Screen sharing](https://webrtc-experiment.appspot.com/screen-broadcast/)

----

#### Many-to-Many style of WebRTC Experiments

1. [Group video sharing / video-conferencing](https://webrtc-experiment.appspot.com/video-conferencing/) / [Latest Demo](https://webrtc-experiment.appspot.com/meeting/)
2. [Group file sharing](https://webrtc-experiment.appspot.com/file-hangout/)
3. [Group text chat](https://webrtc-experiment.appspot.com/chat-hangout/)

----

#### [Part of screen sharing](https://webrtc-experiment.appspot.com/#part-of-screen-sharing)

1. [Using RTCDataChannel](https://webrtc-experiment.appspot.com/part-of-screen-sharing/webrtc-data-channel/)
2. [Using Firebase](https://webrtc-experiment.appspot.com/part-of-screen-sharing/)
3. [A realtime chat using RTCDataChannel](https://googledrive.com/host/0B6GWd_dUUTT8RzVSRVU2MlIxcm8/realtime-chat/)
4. [A realtime chat using Firebase](https://googledrive.com/host/0B6GWd_dUUTT8RzVSRVU2MlIxcm8/realtime-chat/No-WebRTC-Chat.html)

----

#### Demos using [DataChannel.js](https://webrtc-experiment.appspot.com/DataChannel.js)

1. [DataChannel basic demo](https://webrtc-experiment.appspot.com/DataChannel/)
2. [Auto Session Establishment and Users presence detection](https://webrtc-experiment.appspot.com/DataChannel/auto-session-establishment/)

----

#### [RTCMultiConnection Demos](https://webrtc-experiment.appspot.com/#RTCMultiConnection)

1. [Multi-Session Establishment](https://webrtc-experiment.appspot.com/RTCMultiConnection/multi-session-establishment/)
2. [File Sharing + Text Chat](https://webrtc-experiment.appspot.com/RTCMultiConnection/group-file-sharing-plus-text-chat/)
3. [All-in-One test](https://webrtc-experiment.appspot.com/RTCMultiConnection/)
4. [Video Conferencing](https://webrtc-experiment.appspot.com/RTCMultiConnection/video-conferencing/)
5. [Video Broadcasting](https://webrtc-experiment.appspot.com/RTCMultiConnection/video-broadcasting/)
6. [Audio Conferencing](https://webrtc-experiment.appspot.com/RTCMultiConnection/audio-conferencing/)
7. [Join with/without camera](https://webrtc-experiment.appspot.com/RTCMultiConnection/join-with-or-without-camera/)
8. [Screen Sharing](https://webrtc-experiment.appspot.com/RTCMultiConnection/screen-sharing/)
9. [One-to-One file sharing](https://webrtc-experiment.appspot.com/RTCMultiConnection/one-to-one-filesharing/)
10. [Manual session establishment + extra data transmission](https://webrtc-experiment.appspot.com/RTCMultiConnection/manual-session-establishment-plus-extra-data-transmission/)
11. [Manual session establishment + extra data transmission + video conferencing](https://webrtc-experiment.appspot.com/RTCMultiConnection/manual-session-establishment-plus-extra-data-transmission-plus-videoconferencing/)
12. [Users ejection and presence detection](https://webrtc-experiment.appspot.com/RTCMultiConnection/users-ejection/)
13. [Customizing Bandwidth](https://webrtc-experiment.appspot.com/RTCMultiConnection/bandwidth/)
14. [RTCMultiConnection-v1.3 testing demo](https://webrtc-experiment.appspot.com/RTCMultiConnection-v1.3/)


----

#### One-to-Many style of WebRTC Experiments

1. [Video broadcasting](https://webrtc-experiment.appspot.com/broadcast/) / [Latest Demo](https://webrtc-experiment.appspot.com/one-to-many-video-broadcasting/)
2. [Audio broadcasting](https://webrtc-experiment.appspot.com/audio-broadcast/) / [Latest Demo](https://webrtc-experiment.appspot.com/one-to-many-audio-broadcasting/)

----

#### One-to-One style of WebRTC Experiments

1. [One-to-one WebRTC video chat using WebSocket](https://webrtc-experiment.appspot.com/websocket/)
2. [One-to-one WebRTC video chat using socket.io](https://webrtc-experiment.appspot.com/socket.io/)

----

| in-Page / One-Page / Client Side |
| ------------- |
| [Text chat using RTCDataChannel APIs](https://webrtc-experiment.appspot.com/demos/client-side-datachannel.html) |
| [Simple video chat](https://webrtc-experiment.appspot.com/demos/client-side.html) |
| [Sharing video - using socket.io for signaling](https://webrtc-experiment.appspot.com/demos/client-side-socket-io.html) |
| [Sharing video - using WebSockets for signaling](https://webrtc-experiment.appspot.com/demos/client-side-websocket.html) |

----

#### Documents for newcomers/newbies/beginners

| A few documents for newbies and beginners        |
| ------------- |
| [RTCPeerConnection Documentation](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RTCPeerConnection) |
| [RTCMultiConnection Documentation](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RTCMultiConnection) |
| [DataChannel Documentation](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/DataChannel) |
| [How to use RTCPeerConnection.js?](https://webrtc-experiment.appspot.com/docs/how-to-use-rtcpeerconnection-js-v1.1.html) |
| [RTCDataChannel for Beginners](https://webrtc-experiment.appspot.com/docs/rtc-datachannel-for-beginners.html) |
| [How to use RTCDataChannel?](https://webrtc-experiment.appspot.com/docs/how-to-use-rtcdatachannel.html) - single code for both canary and nightly |
| [WebRTC for Beginners: A getting stared guide!](https://webrtc-experiment.appspot.com/docs/webrtc-for-beginners.html) |
| [WebRTC for Newbies ](https://webrtc-experiment.appspot.com/docs/webrtc-for-newbies.html) |
| [How to write video-conferencing application using WebRTC?](https://webrtc-experiment.appspot.com/docs/how-to-WebRTC-video-conferencing.html) |
| [How to broadcast files using RTCDataChannel APIs?](https://webrtc-experiment.appspot.com/docs/how-file-broadcast-works.html) |
| [WebRTC Signaling Concepts](https://github.com/muaz-khan/WebRTC-Experiment/blob/master/socketio-over-nodejs/Signaling-Concepts.md) |

----

#### [DataChannel.js](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/DataChannel)

```html
<script src="https://webrtc-experiment.appspot.com/DataChannel.js"></script>
```

```javascript
var channel = new DataChannel('channel-name');

channel.onopen = function(e) {};
channel.onmessage = function(e) {};

// share with all participants
channel.send(file || data || 'text');

// Direct messages using user-ids
channel.userid = 'muazkh';
channel.channels['muazkh'].send(file || data || 'text');
```

----

#### [RTCMultiConnection.js](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RTCMultiConnection)

```html
<script src="https://webrtc-experiment.appspot.com/RTCMultiConnection-v1.3.js"></script>
```

```javascript
var connection = new RTCMultiConnection();
connection.session = {
    audio: true,
    video: true
};
connection.bandwidth = {
    audio: 50,
    video: 256,
    data: 1638400
};
connection.onstream = function (e) {
    if (e.type === 'local') mainVideo.src = e.blobURL; // or URL.createObjectURL(e.stream)
    if (e.type === 'remote') document.body.appendChild(e.mediaElement);
}

// searching/connecting pre-created session
connection.connect('session-id');

// to create/open a new session
connection.open('session-id');
```

----

#### [RTCall.js](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RTCall)

```html
<script src="https://webrtc-experiment.appspot.com/RTCall.js"></script>
```

```javascript
var call = new RTCall();
call.onincomingcall = function(caller) {
   call.receive(caller.receiverid);
};
call.oncustomer = function(customer) {
   call.call(customer.callerid);
};
```

----

#### Use [WebSocket over Node.js](https://github.com/muaz-khan/WebRTC-Experiment/blob/master/websocket-over-nodejs) for signaling

In `ui.js` files you can find `openSocket` method; or in all libraries; you can find `openSignalingChannel` method.

```javascript
var SIGNALING_SERVER = 'ws://' + document.domain + ':8888/';
openSignalingChannel: function(config) {
    config.channel = config.channel || 'default-channel';
    var websocket = new WebSocket(SIGNALING_SERVER);
    websocket.channel = config.channel;
    websocket.onopen = function() {
        websocket.push(JSON.stringify({
            open: true,
            channel: config.channel
        }));
        if (config.callback)
            config.callback(websocket);
    };
    websocket.onmessage = function(event) {
        config.onmessage(JSON.parse(event.data));
    };
    websocket.push = websocket.send;
    websocket.send = function(data) {
        websocket.push(JSON.stringify({
            data: data,
            channel: config.channel
        }));
    };
}
```

----

#### Use [Socket.io over Node.js](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/socketio-over-nodejs) for signaling!

```javascript
// openSignalingChannel or openSocket!
openSignalingChannel: function(config) {
   var SIGNALING_SERVER = 'http://domain.com:8888/';
   var channel = config.channel || this.channel || 'default-channel';
   var sender = Math.round(Math.random() * 60535) + 5000;
   
   io.connect(SIGNALING_SERVER).emit('new-channel', {
      channel: channel,
      sender : sender
   });
   
   var socket = io.connect(SIGNALING_SERVER + channel);
   socket.channel = channel;
   
   socket.on('connect', function () {
      if (config.callback) config.callback(socket);
   });
   
   socket.send = function (message) {
        socket.emit('message', {
            sender: sender,
            data  : message
        });
    };
   
   socket.on('message', config.onmessage);
}
```

For a ready-made socket.io over node.js implementation; [visit this link](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/socketio-over-nodejs).

----

#### Use `firebase` for signaling!

Remember, You must link [firebase.js](https://cdn.firebase.com/v0/firebase.js) file before using below code:

```javascript
openSignalingChannel: function (config) {
    var SIGNALING_SERVER = 'https://chat.firebaseIO.com/';
    var channel = config.channel || this.channel || 'WebRTC-Experiment';
    var firebase = new Firebase(SIGNALING_SERVER + channel);
    firebase.channel = channel;
    firebase.on('child_added', function (data) {
        config.onmessage && config.onmessage(data.val());
    });
    firebase.send = function (data) {
        this.push(data);
    };
    config.onopen && setTimeout(config.onopen, 1);
    firebase.onDisconnect().remove();
    return firebase;
}
```

----

##### How to use [RecordRTC](https://webrtc-experiment.appspot.com/RecordRTC/)?

```html
<script src="https://webrtc-experiment.appspot.com/RecordRTC.js"></script>
```

#### How to record video using [RecordRTC](https://webrtc-experiment.appspot.com/RecordRTC/)?

```javascript
var recorder = RecordRTC({
	video: HTMLVideoElement
});

/* start recording video */
recorder.recordVideo();

/* stop recording video and save recorded file to disk */
recorder.stopVideo(function(recordedFileURL) {
   window.open(recordedFileURL);
});
```

#### How to record GIF using [RecordRTC](https://webrtc-experiment.appspot.com/RecordRTC/)?

```html
<script src="https://webrtc-experiment.appspot.com/gif-recorder.js"></script>
```

```javascript
var recorder = RecordRTC({
	video: HTMLVideoElement
});

/* start recording gif */
recorder.recordGIF();

/* stop recording gif and save recorded file to disk */
recorder.stopGIF(function(gifURL) {
   window.open(gifURL);
});
```

##### How to record audio using [RecordRTC](https://webrtc-experiment.appspot.com/RecordRTC/)?

```javascript
var recorder = RecordRTC({
	stream: MediaStream || LocalMediaStream
});

/* start recording audio */
recorder.recordAudio();

/* stop recording audio and save recorded file to disk */
recorder.stopAudio(function(recordedFileURL) {
   window.open(recordedFileURL);
});
```

[RecordRTC Documentation](https://github.com/muaz-khan/WebRTC-Experiment/tree/master/RecordRTC)

----

#### Browser Support

[WebRTC Experiments](https://webrtc-experiment.appspot.com) works fine on following web-browsers:

| Browser        | Support           |
| ------------- |-------------|
| Firefox | [Stable](http://www.mozilla.org/en-US/firefox/new/) / [Aurora](http://www.mozilla.org/en-US/firefox/aurora/) / [Nightly](http://nightly.mozilla.org/) |
| Google Chrome | [Stable](https://www.google.com/intl/en_uk/chrome/browser/) / [Canary](https://www.google.com/intl/en/chrome/browser/canary.html) / [Beta](https://www.google.com/intl/en/chrome/browser/beta.html) / [Dev](https://www.google.com/intl/en/chrome/browser/index.html?extra=devchannel#eula) |
| Android | [Chrome Beta](https://play.google.com/store/apps/details?id=com.chrome.beta&hl=en) |

----

#### License

[WebRTC Experiments](https://webrtc-experiment.appspot.com/) are released under [MIT licence](https://webrtc-experiment.appspot.com/licence/) . Copyright (c) 2013 [Muaz Khan](https://plus.google.com/100325991024054712503).
